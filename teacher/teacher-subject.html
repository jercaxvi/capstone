<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Subject - Sto. Ni√±o National High School</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/teacher-common.css" />
  <link rel="stylesheet" href="css/teacher-sidebar.css" />
  <style>
    .subject-main {
      display: flex;
      gap: 2.5rem;
      align-items: flex-start;
      margin-top: 2rem;
    }
    .subject-left {
      flex: 1.2;
      min-width: 0;
    }
    .subject-right {
      flex: 1;
      min-width: 320px;
      max-width: 400px;
      background: #276749;
      border-radius: 24px;
      padding: 2rem 1.5rem 1.5rem 1.5rem;
      color: #fff;
      box-shadow: 0 2px 12px rgba(44,62,80,0.07);
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    .subject-right .upload-card {
      background: #fff;
      color: #184d27;
      border-radius: 16px;
      padding: 1.5rem 1.25rem 1.25rem 1.25rem;
      box-shadow: 0 2px 8px rgba(44,62,80,0.07);
      margin-top: 1rem;
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }
    .subject-right .upload-card h2 {
      color: #184d27;
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }
    .subject-right .upload-card input,
    .subject-right .upload-card textarea {
      width: 100%;
      border: none;
      border-bottom: 2px solid #276749;
      background: transparent;
      font-size: 1rem;
      padding: 0.5rem 0.25rem;
      margin-bottom: 1rem;
      color: #184d27;
      outline: none;
      resize: none;
    }
    .subject-right .upload-card textarea {
      min-height: 60px;
      font-size: 0.98rem;
    }
    .subject-right .upload-card label {
      font-weight: 600;
      color: #276749;
      margin-bottom: 0.5rem;
      display: block;
    }
    .subject-right .upload-card .attach-btns {
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
      margin-bottom: 1.2rem;
    }
    .subject-right .upload-card .attach-btns button {
      background: #f4fbf7;
      color: #276749;
      border: none;
      border-radius: 8px;
      padding: 0.7rem 0;
      font-size: 1.05rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.18s;
    }
    .subject-right .upload-card .attach-btns button:hover {
      background: #e6f0ea;
    }
    .subject-right .upload-card .upload-btn {
      background: #4c7a67;
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 0.8rem 0;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 0.5rem;
      transition: background 0.18s;
    }
    .subject-right .upload-card .upload-btn:hover {
      background: #388e5c;
    }
    .resource-card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(44,62,80,0.07);
      padding: 1.25rem 1.25rem 1rem 1.25rem;
      margin-bottom: 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .resource-card .resource-meta {
      color: #636e72;
      font-size: 0.98rem;
      margin-bottom: 0.2rem;
    }
    .resource-card .resource-title {
      font-size: 1.13rem;
      font-weight: 700;
      color: #222;
      margin-bottom: 0.2rem;
    }
    .resource-card .resource-link {
      color: #276749;
      font-weight: 600;
      text-decoration: none;
      font-size: 1.05rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }
    .resource-card .resource-link:hover {
      text-decoration: underline;
    }
    .resource-card .resource-attach {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.2rem;
    }
    .resource-card .resource-size {
      color: #636e72;
      font-size: 0.98rem;
      margin-left: 0.5rem;
    }
    .resource-card .resource-download {
      background: #e6f0ea;
      border: none;
      border-radius: 8px;
      padding: 0.4rem 0.7rem;
      color: #276749;
      font-size: 1.1rem;
      cursor: pointer;
      margin-left: 0.5rem;
      transition: background 0.18s;
    }
    .resource-card .resource-download:hover {
      background: #a1c8b8;
    }
    @media (max-width: 900px) {
      .subject-main {
        flex-direction: column;
        gap: 1.5rem;
      }
      .subject-right {
        max-width: 100%;
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="top-header">
    <div class="school-name">Sto. Ni√±o National High School</div>
    <div class="header-controls">
      <div class="notifications">
        <span class="icon">
          <svg width="24" height="24" fill="none" stroke="#636e72" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
        </span>
        <span class="badge">2</span>
      </div>
      <div class="user-controls">
        <div class="user-info">
          <div class="user-name">Angelica Nanas</div>
          <div class="user-role">Science Teacher</div>
        </div>
        <div class="user-avatar">
          <img src="https://cdn-icons-png.flaticon.com/128/3135/3135715.png" alt="User Avatar">
        </div>
        <button class="logout-btn" onclick="window.location.href = '../index.html'">Logout</button>
      </div>
      </div>
    </div>
  </div>
  <div class="sidebar">
    <div class="logo-container">
      <img src="../images/logo.jpg" alt="School Logo">
    </div>
    <ul>
      <li><a href="teacher-dashboard.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg></span> Announcements</a></li>
      <li><a href="teacher-classes.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 8-4 8-4s8 0 8 4"/></svg></span> Classes</a></li>
      <li><a href="teacher-grades.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polygon points="12 2 15 8.5 22 9.3 17 14.1 18.2 21 12 17.8 5.8 21 7 14.1 2 9.3 9 8.5 12 2"/></svg></span> Grades</a></li>
      <li class="active"><a href="teacher-subject.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M4 4.5A2.5 2.5 0 0 1 6.5 7H20v13H6.5A2.5 2.5 0 0 1 4 17.5z"/></svg></span> Subject</a></li>
      <li><a href="teacher-masterlist.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><circle cx="3" cy="6" r="1"/><circle cx="3" cy="12" r="1"/><circle cx="3" cy="18" r="1"/></svg></span> Masterlist</a></li>
      <li><a href="teacher-message.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg></span> Messages</a></li>
      <li><a href="teacher-profile.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7"/><path d="M9 22V12h6v10"/></svg></span> Profile</a></li>
      <li><a href="teacher-help.html"><span class="icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg></span> Help</a></li>
    </ul>
  </div>
  <div class="main-content">
    <div class="subject-main">
      <div class="subject-left">
        <h1 style="color:#276749; font-size:2rem; font-weight:700; margin-bottom:1.5rem;">Subject - Mathematics</h1>
        <div class="section-select" style="margin-bottom: 1.25rem; max-width: 350px;">
          <select id="sectionSelect" style="width:100%; padding:0.7rem 1rem; border-radius:8px; border:1.5px solid #a1c8b8; color:#276749; font-size:1.08rem; font-weight:600; background:#f4fbf7;">
            <option value="g8-lilac">Grade 8 (Year III - Lilac)</option>
            <option value="g8-tulip">Grade 8 (Year III - Tulip)</option>
            <option value="g9-daisy">Grade 9 (Year IV - Daisy)</option>
          </select>
        </div>
        <div class="resource-card">
          <div class="resource-meta">Admin ‚Ä¢ 12 hrs ago</div>
          <div class="resource-title">Problems involving sets</div>
          <div class="resource-attach">
            <a class="resource-link" href="#" download><span style="font-size:1.1em;">üìé</span> 1.3_Problems involving sets.pdf</a>
            <span class="resource-size">9.2 MB</span>
            <button class="resource-download" title="Download"><span style="font-size:1.1em;">‚¨áÔ∏è</span></button>
          </div>
        </div>
        <div class="resource-card">
          <div class="resource-meta">Teacher ‚Ä¢ 2 days ago</div>
          <div class="resource-title">Complement of a set video</div>
          <div class="resource-attach">
            <a class="resource-link" href="#" target="_blank"><span style="font-size:1.1em;">üîó</span> Complement of a set lesson</a>
            <span class="resource-size">Youtube</span>
            <button class="resource-download" title="Open"><span style="font-size:1.1em;">‚ÜóÔ∏è</span></button>
          </div>
        </div>
      </div>
      <div class="subject-right">
        <div class="upload-card">
          <h2>Add Title</h2>
          <input type="text" placeholder="Add Title" />
          <textarea placeholder="Add description"></textarea>
          <label>Attach:</label>
          <div class="attach-btns">
            <button type="button">File</button>
            <button type="button">Link</button>
          </div>
          <button class="upload-btn">Upload</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    // Example materials for each section, now with thumbnails and URLs
    const sectionMaterials = {
      'g8-lilac': [
        {
          meta: 'PDF Resource',
          title: 'Algebra: Solving Linear Equations',
          type: 'pdf',
          url: '#',
          duration: '1 hour, 10 minutes',
          thumbnail: '',
        },
        {
          meta: 'Class File',
          title: 'Math Worksheet - Fractions',
          type: 'file',
          url: '#',
          duration: '30 minutes',
          thumbnail: '',
        },
        {
          meta: 'Math Website',
          title: 'Khan Academy: Geometry',
          type: 'website',
          url: 'https://www.khanacademy.org/math/geometry',
          duration: 'Self-paced',
          thumbnail: 'https://cdn.kastatic.org/images/lohp/ka-logo-2017.png',
        },
        {
          meta: 'YouTube Video',
          title: 'The Infinite Hotel Paradox',
          type: 'youtube',
          url: 'https://www.youtube.com/watch?v=Uj3_KqkI9Zo',
          duration: '7 minutes',
          thumbnail: 'https://img.youtube.com/vi/Uj3_KqkI9Zo/hqdefault.jpg',
        },
        {
          meta: 'YouTube Video',
          title: 'Why do prime numbers matter?',
          type: 'youtube',
          url: 'https://www.youtube.com/watch?v=EK32jo7i5LQ',
          duration: '10 minutes',
          thumbnail: 'https://img.youtube.com/vi/EK32jo7i5LQ/hqdefault.jpg',
        },
        {
          meta: 'PDF Resource',
          title: 'Geometry: Area and Perimeter',
          type: 'pdf',
          url: '#',
          duration: '50 minutes',
          thumbnail: '',
        },
      ],
      'g8-tulip': [
        {
          meta: 'PDF Resource',
          title: 'Quadratic Equations Practice',
          type: 'pdf',
          url: '#',
          duration: '1 hour',
          thumbnail: '',
        },
        {
          meta: 'Class File',
          title: 'Math Worksheet - Decimals',
          type: 'file',
          url: '#',
          duration: '25 minutes',
          thumbnail: '',
        },
        {
          meta: 'Math Website',
          title: 'Desmos Graphing Calculator',
          type: 'website',
          url: 'https://www.desmos.com/calculator',
          duration: 'Self-paced',
          thumbnail: 'https://www.desmos.com/assets/img/logos/og-image.png',
        },
        {
          meta: 'YouTube Video',
          title: 'What is a function?',
          type: 'youtube',
          url: 'https://www.youtube.com/watch?v=ke5MjeK2E2A',
          duration: '8 minutes',
          thumbnail: 'https://img.youtube.com/vi/ke5MjeK2E2A/hqdefault.jpg',
        },
      ],
      'g9-daisy': [
        {
          meta: 'PDF Resource',
          title: 'Trigonometry Basics',
          type: 'pdf',
          url: '#',
          duration: '1 hour, 20 minutes',
          thumbnail: '',
        },
        {
          meta: 'Class File',
          title: 'Math Worksheet - Polynomials',
          type: 'file',
          url: '#',
          duration: '40 minutes',
          thumbnail: '',
        },
        {
          meta: 'Math Website',
          title: 'Brilliant: Math and Logic',
          type: 'website',
          url: 'https://brilliant.org/courses/math/',
          duration: 'Self-paced',
          thumbnail: 'https://brilliant.org/site_media/version-1/images/brilliant-fb-og.png',
        },
        {
          meta: 'YouTube Video',
          title: 'Visualizing the Riemann Hypothesis',
          type: 'youtube',
          url: 'https://www.youtube.com/watch?v=sD0NjbwqlYw',
          duration: '12 minutes',
          thumbnail: 'https://img.youtube.com/vi/sD0NjbwqlYw/hqdefault.jpg',
        },
      ]
    };

    // --- Upload Form Logic ---
    let uploadType = null; // 'file' or 'link'
    let uploadFile = null;
    let uploadLink = '';

    // Add file/link selection logic
    document.querySelector('.attach-btns button:nth-child(1)').addEventListener('click', function() {
      uploadType = 'file';
      // Create file input if not exists
      let fileInput = document.getElementById('uploadFileInput');
      if (!fileInput) {
        fileInput = document.createElement('input');
        fileInput.type = 'file';
        fileInput.id = 'uploadFileInput';
        fileInput.style.display = 'none';
        fileInput.addEventListener('change', function(e) {
          uploadFile = e.target.files[0];
        });
        document.body.appendChild(fileInput);
      }
      fileInput.click();
    });
    document.querySelector('.attach-btns button:nth-child(2)').addEventListener('click', function() {
      uploadType = 'link';
      uploadLink = prompt('Paste the URL (YouTube, website, etc.):');
    });

    document.querySelector('.upload-btn').addEventListener('click', function() {
      const title = document.querySelector('.upload-card input[type="text"]').value.trim();
      const desc = document.querySelector('.upload-card textarea').value.trim();
      const section = document.getElementById('sectionSelect').value;
      if (!title) {
        alert('Please enter a title.');
        return;
      }
      let newResource = {
        meta: '',
        title: title,
        type: '',
        url: '',
        duration: desc || '',
        thumbnail: ''
      };
      if (uploadType === 'file' && uploadFile) {
        newResource.meta = 'Class File';
        newResource.type = 'file';
        newResource.url = '#'; // No real upload, just a placeholder
      } else if (uploadType === 'link' && uploadLink) {
        // Try to detect YouTube
        if (/youtube\.com|youtu\.be/.test(uploadLink)) {
          newResource.meta = 'YouTube Video';
          newResource.type = 'youtube';
          newResource.url = uploadLink;
          // Extract YouTube video ID for thumbnail
          let match = uploadLink.match(/[?&]v=([^&#]+)/) || uploadLink.match(/youtu\.be\/([^?&#]+)/);
          if (match && match[1]) {
            newResource.thumbnail = `https://img.youtube.com/vi/${match[1]}/hqdefault.jpg`;
          }
        } else {
          newResource.meta = 'Website Link';
          newResource.type = 'website';
          newResource.url = uploadLink;
          // Optionally, set a default thumbnail or favicon
          newResource.thumbnail = '';
        }
      } else {
        alert('Please attach a file or link.');
        return;
      }
      sectionMaterials[section].unshift(newResource);
      renderMaterials(section);
      // Reset form
      document.querySelector('.upload-card input[type="text"]').value = '';
      document.querySelector('.upload-card textarea').value = '';
      uploadType = null;
      uploadFile = null;
      uploadLink = '';
    });

    function renderMaterials(section) {
      const container = document.querySelector('.subject-left');
      const title = container.querySelector('h1');
      const dropdown = container.querySelector('.section-select');
      // Remove all resource cards
      container.querySelectorAll('.resource-card').forEach(card => card.remove());
      // Add new resource cards
      sectionMaterials[section].forEach(mat => {
        const card = document.createElement('div');
        card.className = 'resource-card';
        card.style.width = '320px';
        card.style.display = 'inline-block';
        card.style.verticalAlign = 'top';
        card.style.marginRight = '1.25rem';
        card.style.marginBottom = '1.25rem';
        card.innerHTML = `
          ${mat.thumbnail ? `<div style='width:100%;height:120px;overflow:hidden;border-radius:12px 12px 0 0;background:#f4fbf7;display:flex;align-items:center;justify-content:center;'><img src='${mat.thumbnail}' alt='thumbnail' style='width:100%;height:100%;object-fit:cover;'></div>` : ''}
          <div style='padding:1rem;'>
            <div class=\"resource-meta\" style=\"color:#888;font-size:1.02rem;\">${mat.meta}</div>
            <div class=\"resource-title\" style=\"font-size:1.13rem;font-weight:700;color:#222;margin-bottom:0.2rem;\">${mat.title}</div>
            <div style=\"color:#444;font-size:1.01rem;margin-bottom:0.5rem;\">${mat.duration}</div>
            ${mat.url && mat.url !== '#' ? `<a href=\"${mat.url}\" target=\"_blank\" style=\"color:#276749;font-weight:600;text-decoration:none;font-size:1.05rem;\">Open Resource</a>` : ''}
          </div>
        `;
        container.appendChild(card);
      });
    }

    document.getElementById('sectionSelect').addEventListener('change', function() {
      renderMaterials(this.value);
    });
    // Initial render
    renderMaterials(document.getElementById('sectionSelect').value);
  </script>
</body>
</html>
